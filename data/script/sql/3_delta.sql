USE smto_new;

ALTER TABLE `machine`
  ADD COLUMN `data_fix_period` INT(10) NOT NULL DEFAULT 10  AFTER `local_port` ,
  ADD COLUMN `peak_average_period` INT(10) NOT NULL DEFAULT 1  AFTER `data_fix_period`
;

delete from machine_data where dt >= '2012-09-02 09:00';
INSERT INTO `smto_07.07.2012`.`machine_data`(
`dt`,
`duration`,
`mac`,
`machine_id`,
`operator_id`,
`da_max1`,`da_max2`,`da_max3`,`da_max4`,
`da_avg1`,`da_avg2`,`da_avg3`,`da_avg4`,
`dd1`,`dd2`,`dd3`,`dd4`,
`dd_change1`,`dd_change2`,`dd_change3`,`dd_change4`,
`state`,
`operator_last_fkey`
)
VALUES
 /* machine off*/
( '2012-09-02 10:00:00', null, '7E4AE2C2875E', 2, 1, 0,0,0,0, 10,0,0,0, 1,0,0,0, 1,0,0,0, 0,0 ),
( '2012-09-02 10:00:10', 10, '7E4AE2C2875E', 2, 1, 0,0,0,0, 10,0,0,0, 1,0,0,0, 1,0,0,0, 0,0 ),
( '2012-09-02 10:00:20', 10, '7E4AE2C2875E', 2, 1, 0,0,0,0, 10,0,0,0, 1,0,0,0, 1,0,0,0, 0,0 ),
( '2012-09-02 10:00:30', 10, '7E4AE2C2875E', 2, 1, 0,0,0,0, 10,0,0,0, 1,0,0,0, 1,0,0,0, 0,0 ),
( '2012-09-02 10:00:40', 10, '7E4AE2C2875E', 2, 1, 0,0,0,0, 10,0,0,0, 1,0,0,0, 1,0,0,0, 0,0 ),
( '2012-09-02 10:00:50', 10, '7E4AE2C2875E', 2, 1, 0,0,0,0, 10,0,0,0, 1,0,0,0, 1,0,0,0, 0,0 ),
( '2012-09-02 10:01:00', 10, '7E4AE2C2875E', 2, 1, 0,0,0,0, 10,0,0,0, 1,0,0,0, 1,0,0,0, 0,0 ),

/* machine on*/
( '2012-09-02 10:01:10', 10, '7E4AE2C2875E', 2, 1, 100,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,0 ),
( '2012-09-02 10:01:20', 10, '7E4AE2C2875E', 2, 1, 100,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,0 ),
( '2012-09-02 10:01:30', 10, '7E4AE2C2875E', 2, 1, 100,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,0 ),
( '2012-09-02 10:01:40', 10, '7E4AE2C2875E', 2, 1, 100,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,0 ),
( '2012-09-02 10:01:50', 10, '7E4AE2C2875E', 2, 1, 100,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,0 ),
( '2012-09-02 10:02:00', 10, '7E4AE2C2875E', 2, 1, 100,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,0 ),

/* machine idle_run*/
( '2012-09-02 10:02:10', 10, '7E4AE2C2875E', 2, 1, 120,0,0,0, 100,0,0,0, 1,0,0,0, 1,0,0,0, 2,0 ),
( '2012-09-02 10:02:20', 10, '7E4AE2C2875E', 2, 1, 120,0,0,0, 100,0,0,0, 1,0,0,0, 1,0,0,0, 2,0 ),
( '2012-09-02 10:02:30', 10, '7E4AE2C2875E', 2, 1, 120,0,0,0, 100,0,0,0, 1,0,0,0, 1,0,0,0, 2,0 ),
( '2012-09-02 10:02:40', 10, '7E4AE2C2875E', 2, 1, 120,0,0,0, 100,0,0,0, 1,0,0,0, 1,0,0,0, 2,0 ),
( '2012-09-02 10:02:50', 10, '7E4AE2C2875E', 2, 1, 120,0,0,0, 100,0,0,0, 1,0,0,0, 1,0,0,0, 2,0 ),
( '2012-09-02 10:03:00', 10, '7E4AE2C2875E', 2, 1, 120,0,0,0, 100,0,0,0, 1,0,0,0, 1,0,0,0, 2,0 ),

/* machine work*/
( '2012-09-02 10:03:10', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 150,0,0,0, 1,0,0,0, 1,0,0,0, 3,0 ),
( '2012-09-02 10:03:20', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 150,0,0,0, 1,0,0,0, 1,0,0,0, 3,0 ),
( '2012-09-02 10:03:30', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 150,0,0,0, 1,0,0,0, 1,0,0,0, 3,0 ),
( '2012-09-02 10:03:40', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 150,0,0,0, 1,0,0,0, 1,0,0,0, 3,0 ),
( '2012-09-02 10:03:50', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 150,0,0,0, 1,0,0,0, 1,0,0,0, 3,0 ),
( '2012-09-02 10:04:00', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 150,0,0,0, 1,0,0,0, 1,0,0,0, 3,0 ),

( '2012-09-02 10:04:10', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 150,0,0,0, 1,0,0,0, 1,0,0,0, 3,0 ),
( '2012-09-02 10:04:20', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 150,0,0,0, 1,0,0,0, 1,0,0,0, 3,0 ),
( '2012-09-02 10:04:30', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 150,0,0,0, 1,0,0,0, 1,0,0,0, 3,0 ),
( '2012-09-02 10:04:40', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 150,0,0,0, 1,0,0,0, 1,0,0,0, 3,0 ),
( '2012-09-02 10:04:50', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 150,0,0,0, 1,0,0,0, 1,0,0,0, 3,0 ),
( '2012-09-02 10:05:00', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 150,0,0,0, 1,0,0,0, 1,0,0,0, 3,0 ),

/* machine on && fkey == 1*/
( '2012-09-02 10:05:10', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,1 ),
( '2012-09-02 10:05:20', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,1 ),
( '2012-09-02 10:05:30', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,1 ),
( '2012-09-02 10:05:40', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,1 ),
( '2012-09-02 10:05:50', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,1 ),
( '2012-09-02 10:06:00', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,1 ),

/* machine on && fkey == 2*/
( '2012-09-02 10:06:10', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,2 ),
( '2012-09-02 10:06:20', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,2 ),
( '2012-09-02 10:06:30', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,2 ),
( '2012-09-02 10:06:40', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,2 ),
( '2012-09-02 10:06:50', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,2 ),
( '2012-09-02 10:07:00', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,2 ),

/* machine on && fkey == 1*/
( '2012-09-02 10:07:10', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,1 ),
( '2012-09-02 10:07:20', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,1 ),
( '2012-09-02 10:07:30', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,1 ),
( '2012-09-02 10:07:40', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,1 ),
( '2012-09-02 10:07:50', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,1 ),
( '2012-09-02 10:08:00', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,1 ),

/* machine on && fkey == 6*/
( '2012-09-02 10:08:10', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,6 ),
( '2012-09-02 10:08:20', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,6 ),
( '2012-09-02 10:08:30', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,6 ),
( '2012-09-02 10:08:40', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,6 ),
( '2012-09-02 10:08:50', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,6 ),
( '2012-09-02 10:09:00', 10, '7E4AE2C2875E', 2, 1, 200,0,0,0, 70,0,0,0, 1,0,0,0, 1,0,0,0, 1,6 )
;